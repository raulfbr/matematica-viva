# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WORKFLOW: REVISAR LIÃ‡ÃƒO AUTO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# RevisÃ£o automÃ¡tica por TODOS os 14 experts
# VersÃ£o: 1.0

id: revisar_licao_auto
tipo: workflow
versao: "1.0"
coordenadora: charlotte_mason

nome: "Revisar LiÃ§Ã£o Auto â€” ValidaÃ§Ã£o Completa"
descricao: |
  RevisÃ£o automÃ¡tica que invoca TODOS os 14 experts.
  Cada expert responde sua pergunta_north_star.
  Gera relatÃ³rio consolidado de aprovaÃ§Ãµes, ressalvas e vetos.

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# INVOCAÃ‡ÃƒO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

invocacao:
  comando: "/revisar-licao-auto [LICAO_ID]"
  exemplo: "/revisar-licao-auto L001"
  uso: "Executar apÃ³s /criar-licao-premium para validaÃ§Ã£o completa"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# OS 14 EXPERTS E SUAS PERGUNTAS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

experts_invocados:
  # PEDAGOGIA
  - id: charlotte_mason
    conselho: pedagogia
    pergunta_north_star: "Esta liÃ§Ã£o trata a crianÃ§a como PESSOA (PrincÃ­pio 1)?"
    veto_poder: ABSOLUTO
    
  - id: susan_macaulay
    conselho: pedagogia
    pergunta_north_star: "A traduÃ§Ã£o prÃ¡tica de CM estÃ¡ presente e acessÃ­vel?"
    veto_poder: CONSULTIVO
    
  # MATEMÃTICA
  - id: jerome_bruner
    conselho: matematica
    pergunta_north_star: "A progressÃ£o CPA foi respeitada? (Câ‰¥60%, ordem correta)"
    veto_poder: DOMINIO_CPA
    
  - id: lev_vygotsky
    conselho: matematica
    pergunta_north_star: "O scaffolding Ã© adequado? A ZPD foi respeitada?"
    veto_poder: CONSULTIVO
    
  # NARRATIVA
  - id: cs_lewis
    conselho: narrativa
    pergunta_north_star: "O tom Ã© digno? NÃ£o infantilizamos o MistÃ©rio?"
    veto_poder: DOMINIO_TOM
    
  - id: jrr_tolkien
    conselho: narrativa
    pergunta_north_star: "HÃ¡ consistÃªncia interna? O mundo faz sentido?"
    veto_poder: DOMINIO_CONSISTENCIA
    
  - id: beatrix_potter
    conselho: narrativa
    pergunta_north_star: "A estÃ©tica honra a natureza? Visual Ã© encantador?"
    veto_poder: CONSULTIVO
    
  - id: makoto_fujimura
    conselho: narrativa
    pergunta_north_star: "A beleza generativa estÃ¡ presente? Kintsugi quando necessÃ¡rio?"
    veto_poder: CONSULTIVO
    
  # NEGÃ“CIOS
  - id: seth_godin
    conselho: negocios
    pergunta_north_star: "Isso fortalece a tribo? Ã‰ para 'pessoas como nÃ³s'?"
    veto_poder: CONSULTIVO
    
  - id: alex_hormozi
    conselho: negocios
    pergunta_north_star: "EsforÃ§o baixo? Valor alto? (Value Equation positiva)"
    veto_poder: CONSULTIVO
    
  - id: peter_thiel
    conselho: negocios
    pergunta_north_star: "Isso reforÃ§a nosso monopÃ³lio criativo? Ã‰ Ãºnico?"
    veto_poder: CONSULTIVO
    
  # UX FAMÃLIAS
  - id: maes_personas
    conselho: ux_familias
    pergunta_north_star: "Uma mÃ£e exausta consegue aplicar isso em 5 minutos?"
    veto_poder: ALTA_PRIORIDADE
    selos_verificar:
      - "ğŸ“± Mobile-Friendly"
      - "ğŸ«˜ Materiais Caseiros"
      - "ğŸ—£ï¸ Linguagem Clara"
      - "â±ï¸ 5 Minutos de Preparo"
      - "â™¿ InstruÃ§Ãµes AcessÃ­veis"
      - "ğŸ’¡ Nota de AdaptaÃ§Ã£o"
    
  # DESIGN
  - id: design
    conselho: design
    pergunta_north_star: "O design visual estÃ¡ alinhado com a identidade do projeto?"
    veto_poder: CONSULTIVO
    
  # ENGENHARIA
  - id: engenharia
    conselho: engenharia
    pergunta_north_star: "O cÃ³digo/YAML sobrevive auditoria de sÃªnior exigente?"
    veto_poder: DOMINIO_TECNICO
    checks:
      - "YAML vÃ¡lido"
      - "Links funcionais"
      - "Template V4 completo"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# FASES DA REVISÃƒO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fases:
  - fase: 1
    nome: "CARREGAMENTO"
    acao: |
      Carregar a liÃ§Ã£o do arquivo YAML.
      Identificar: ID, ciclo, tema, guardiÃ£o.
    output: "Contexto da liÃ§Ã£o carregado"
    
  - fase: 2
    nome: "INVOCAÃ‡ÃƒO EM PARALELO"
    acao: |
      Para cada um dos 14 experts:
      1. Apresentar a liÃ§Ã£o
      2. Perguntar a pergunta_north_star
      3. Registrar resposta: APROVADO | RESSALVA | VETO
      4. Se RESSALVA ou VETO: capturar justificativa
    output: "14 respostas coletadas"
    
  - fase: 3
    nome: "CONSOLIDAÃ‡ÃƒO"
    acao: |
      Agrupar respostas por status:
      - AprovaÃ§Ãµes: lista de experts que aprovaram
      - Ressalvas: lista com observaÃ§Ãµes
      - Vetos: lista com justificativas (bloqueia se houver)
    output: "RelatÃ³rio consolidado"
    
  - fase: 4
    nome: "DECISÃƒO"
    responsavel: charlotte_mason
    acao: |
      CM analisa o relatÃ³rio.
      Se VETO de prioridade alta: BLOQUEIA liÃ§Ã£o.
      Se apenas RESSALVAS: APROVADO COM OBSERVAÃ‡Ã•ES.
      Se tudo aprovado: APROVADO TOTAL.
    output: "Veredito final"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# OUTPUT
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

output:
  arquivo: "logs/{data}_REVISAO_AUTO_{licao_id}.md"
  
  formato: |
    # ğŸ” REVISÃƒO AUTOMÃTICA: {licao_id}
    
    **Data:** {data}
    **LiÃ§Ã£o:** {licao_id} â€” {titulo}
    **Ciclo:** {ciclo}
    **GuardiÃ£o:** {guardiao}
    
    ---
    
    ## âœ… APROVAÃ‡Ã•ES ({count_aprovados}/14)
    
    | Expert | Conselho | Parecer |
    |--------|----------|---------|
    {lista_aprovados}
    
    ---
    
    ## âš ï¸ RESSALVAS ({count_ressalvas})
    
    | Expert | ObservaÃ§Ã£o |
    |--------|------------|
    {lista_ressalvas}
    
    ---
    
    ## âŒ VETOS ({count_vetos})
    
    | Expert | Justificativa | AÃ§Ã£o Requerida |
    |--------|---------------|----------------|
    {lista_vetos}
    
    ---
    
    ## ğŸ–ï¸ VEREDITO FINAL (Charlotte Mason)
    
    **Status:** {status_final}
    **Justificativa:** {justificativa_cm}
    
    ---
    
    *RevisÃ£o automÃ¡tica executada em {data}*

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# REGRAS DE VETO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

regras_veto:
  - nivel: ABSOLUTO
    experts: [charlotte_mason]
    efeito: "Bloqueia imediatamente. LiÃ§Ã£o nÃ£o pode ser publicada."
    
  - nivel: ALTA_PRIORIDADE
    experts: [maes_personas]
    efeito: "Bloqueia atÃ© resolver. Se mÃ£e nÃ£o usa, nÃ£o existe."
    
  - nivel: DOMINIO
    experts: [jerome_bruner, cs_lewis, jrr_tolkien, engenharia]
    efeito: "Bloqueia no domÃ­nio especÃ­fico. Requer correÃ§Ã£o."
    
  - nivel: CONSULTIVO
    experts: [susan_macaulay, lev_vygotsky, beatrix_potter, makoto_fujimura, seth_godin, alex_hormozi, peter_thiel, design]
    efeito: "ObservaÃ§Ã£o registrada. NÃ£o bloqueia, mas recomendado corrigir."

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# INTEGRAÃ‡ÃƒO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

integracao:
  pos_criar_licao: |
    Este workflow deve ser executado AUTOMATICAMENTE apÃ³s /criar-licao-premium.
    O orchestrator deve chamar /revisar-licao-auto ao final da fase 4.
    
  pre_publicacao: |
    Nenhuma liÃ§Ã£o pode ser publicada sem passar por este workflow.
    Status APROVADO ou APROVADO_COM_OBSERVACOES Ã© obrigatÃ³rio.
